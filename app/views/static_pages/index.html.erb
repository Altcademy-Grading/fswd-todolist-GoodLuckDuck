<%= javascript_pack_tag 'index', 'data-turbolinks-track': 'reload' %>

<div class="container">
  <div class="row">
    <div class="col-12">
      <h1 class="text-center mt-4">To Do List</h1>
      <div class="input-group mb-3">
        <input type="text" id="taskInput" class="form-control" placeholder="Add a new task" aria-label="Task">
        <button class="btn btn-primary" id="addTaskButton">Add</button>
      </div>
      <div class="row" id="tasks"></div>
    </div>
  </div>
</div>

<script>
  document.getElementById('addTaskButton').addEventListener('click', function() {
    const taskInput = document.getElementById('taskInput');
    const taskText = taskInput.value.trim();
    
    if (taskText) {
      const taskDiv = document.createElement('div');
      taskDiv.className = 'task-item d-flex justify-content-between align-items-center mb-2';
      taskDiv.innerHTML = `
        <span>${taskText}</span>
        <button class="btn btn-danger btn-sm deleteTaskButton">Delete</button>
      `;
      
      document.getElementById('tasks').appendChild(taskDiv);
      taskInput.value = ''; // Clear input field

      // Add event listener for delete button
      taskDiv.querySelector('.deleteTaskButton').addEventListener('click', function() {
        taskDiv.remove(); // Remove the task item
      });
    }
  });
</script>
